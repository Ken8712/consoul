/* ライト感情システム用スタイル */

/* 基本フロートアニメーション */
@keyframes float {
  0%   { transform: translateY(-10px); }
  50%  { transform: translateY(10px); }
  100% { transform: translateY(-10px); }
}

@keyframes pulse {
  0%   { transform: scale(1); }
  50%  { transform: scale(1.1); }
  100% { transform: scale(1); }
}

/* 放物線アニメーション - 上投射、縮小、背景固定 */
@keyframes projectile-flight {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 1;
  }
  25% {
    transform: translate(var(--flight-x-quarter), var(--flight-y-quarter)) scale(0.8);
    opacity: 0.9;
  }
  50% {
    transform: translate(var(--flight-x-half), var(--flight-y-half)) scale(0.5);
    opacity: 0.7;
  }
  75% {
    transform: translate(var(--flight-x-three-quarter), var(--flight-y-three-quarter)) scale(0.3);
    opacity: 0.5;
  }
  100% {
    transform: translate(var(--flight-x-final), var(--flight-y-final)) scale(0.15);
    opacity: 0.4;
  }
}

/* 背景漂いアニメーション */
@keyframes background-float {
  0% {
    transform: translate(var(--start-x), var(--start-y)) translateY(-3px);
  }
  50% {
    transform: translate(var(--start-x), var(--start-y)) translateY(3px);
  }
  100% {
    transform: translate(var(--start-x), var(--start-y)) translateY(-3px);
  }
}

/* 同心円フェードイン */
@keyframes concentric-fade-in {
  0% {
    opacity: 0;
    transform: scale(0.5);
  }
  100% {
    opacity: 0.6;
    transform: scale(1);
  }
}

/* 波紋効果 */
@keyframes ripple-effect {
  0% {
    opacity: 0;
    transform: scale(0.3);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.2);
  }
  100% {
    opacity: 0.6;
    transform: scale(1);
  }
}

/* メインライト */
#light {
  animation: float 0.8s ease-in-out infinite;
}

/* タッチ操作のためのスタイル */
[data-controller="light-svg"] {
  user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}

/* 背景に漂うlightのスタイル */
.floating-light {
  position: absolute;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  pointer-events: none;
  filter: blur(4px);
  opacity: 0.6;
  animation: background-float 6s ease-in-out infinite;
  z-index: 10;
}

/* 遠方表現のスタイル */
.floating-light.distant {
  width: 30px;
  height: 30px;
  filter: blur(6px) brightness(0.7);
  opacity: 0.3;
  animation: background-float 8s ease-in-out infinite;
}

/* 投射中のライト */
.floating-light.projecting {
  animation: projectile-flight 2s ease-out forwards;
  z-index: 15;
}

/* 蓄積ライト表示 */
.accumulated-light {
  position: absolute;
  border-radius: 50%;
  pointer-events: none;
  filter: blur(3px);
  animation: concentric-fade-in 1s ease-out forwards;
  z-index: 12;
}

/* 初回ロード時の波紋効果 */
.ripple-light {
  animation: ripple-effect 2s ease-out forwards;
}

/* トースト通知のスタイル */
#toast.show {
  transform: translateX(0);
}

/* インタラクション無効化 */
.interaction-disabled {
  pointer-events: none;
  opacity: 0.7;
}